@use 'util/config' as u;
/** Topページ **/
// =====================================================
// MV: Golden Bokeh (CSS-only) for Snow Monkey Section
// Target HTML structure:
// <section class="... mv mv--abstract"> ... </section>
// =====================================================

// ---------- Variables ----------
$mv-text-max-width: 55rem;
$mv-radius: 24px;

$mv-pad-y: clamp(24px, 5vw, 72px);
$mv-inner-pad: clamp(18px, 3.5vw, 44px);
$mv-inner-ml: clamp(24px, 6vw, 80px);

$catch-size: clamp(28px, 4vw, 44px);
$sub-size: clamp(15px, 2vw, 18px);

$catch-shadow: 0 2px 14px rgba(0, 0, 0, 0.28);
$sub-shadow: 0 2px 10px rgba(0, 0, 0, 0.22);

// Sparkle tuning (final)
$sparkle-size: 26px; // user request: a bit bigger
$sparkle-opacity: 0.22;
$sparkle-blur: 1.8px;

// Animation timing (final)
$dur-bokeh: 12s;
$dur-sparkle: 14s;

// Breakpoint
$bp-md: 768px;

// ---------- Keyframes ----------
@keyframes bokehDrift {
	from {
		transform: translate3d(0, 0, 0) scale(1);
	}
	to {
		transform: translate3d(-1.2%, -0.8%, 0) scale(1.02);
	}
}

@keyframes sparkleFloat {
	0% {
		transform: translate3d(0, 0, 0) scale(1);
		opacity: 0.18;
	}
	50% {
		transform: translate3d(28px, -36px, 0) scale(1.35);
		opacity: 0.26;
	}
	100% {
		transform: translate3d(-18px, -68px, 0) scale(1.15);
		opacity: 0.2;
	}
}

/* Snow Monkey container reset */
.c-entry__content.p-entry-content.c-container {
	padding-left: unset;
	padding-right: unset;
}

.l-container {
	.l-header {
		&__content {
			display: none;
		}
	}
}

.c-section {
	&.p-section-front-page-content {
		padding-top: 0;
		padding-bottom: 0;
	}
}
/* MV base */
.mv.mv--abstract {
	max-width: 100vw;
	width: 100vw;
	margin-inline: calc(-50vw + 50%);
	box-sizing: border-box;
	position: relative;
	min-height: 100vh;
	overflow: hidden;
	display: grid;
	align-items: center;
	padding: clamp(24px, 5vw, 72px);
	color: #fff;
}

.mv.mv--abstract .c-container {
	max-width: none;
	padding-left: 0;
	padding-right: 0;
}

/* Background（オレンジベース） */
.mv.mv--abstract {
	background:
		// radial-gradient(
		// 	70vmax 70vmax at 12% 85%,
		// 	rgba(255, 255, 255, 0.22) 0%,
		// 	rgba(255, 255, 255, 0.12) 35%,
		// 	rgba(255, 255, 255, 0) 65%
		// ),
		// radial-gradient(
		// 	70vmax 60vmax at 88% 18%,
		// 	rgba(255, 255, 255, 0.95) 0%,
		// 	rgba(255, 248, 235, 0.6) 25%,
		// 	rgba(255, 220, 180, 0.2) 52%,
		// 	rgba(255, 200, 150, 0.08) 68%,
		// 	rgba(255, 200, 150, 0) 78%
		// ),
		// radial-gradient(60vmax 60vmax at 6% 30%, rgba(255, 235, 210, 0.25) 0%, rgba(255, 235, 210, 0) 65%),
		// radial-gradient(70vmax 70vmax at 14% 55%, rgba(255, 218, 180, 0.2) 0%, rgba(255, 218, 180, 0) 70%),
		// radial-gradient(80vmax 80vmax at 22% 78%, rgba(255, 240, 215, 0.16) 0%, rgba(255, 240, 215, 0) 75%),
		linear-gradient(90deg, #b85a20 0%, #d97a38 18%, u.$color-background-main 42%, #f5b070 65%, #fff0e0 100%);
	filter: saturate(1.05);
}

.mv.mv--abstract::before {
	content: '';
	position: absolute;
	inset: -10%;
	pointer-events: none;
	z-index: 0;
	background:
		radial-gradient(circle at 22% 18%, rgba(255, 255, 255, 0.22) 0 10%, rgba(255, 255, 255, 0) 13%),
		radial-gradient(circle at 35% 25%, rgba(255, 255, 255, 0.18) 0 12%, rgba(255, 255, 255, 0) 16%),
		radial-gradient(circle at 48% 20%, rgba(255, 255, 255, 0.16) 0 11%, rgba(255, 255, 255, 0) 15%),
		radial-gradient(circle at 62% 38%, rgba(255, 255, 255, 0.14) 0 13%, rgba(255, 255, 255, 0) 18%),
		radial-gradient(circle at 70% 55%, rgba(255, 255, 255, 0.12) 0 14%, rgba(255, 255, 255, 0) 20%),
		radial-gradient(circle at 78% 76%, rgba(255, 255, 255, 0.16) 0 10%, rgba(255, 255, 255, 0) 14%),
		radial-gradient(circle at 64% 82%, rgba(255, 255, 255, 0.12) 0 9%, rgba(255, 255, 255, 0) 13%);
	filter: blur(10px);
	opacity: 0.95;
	will-change: transform;
	animation: bokehDrift 12s ease-in-out infinite alternate;
}

/* ---- Canvas（背面レイヤー・パーティクル用・JSでコンテナに合わせてサイズ設定）---- */
.mv.mv--abstract .mv__canvas {
	position: absolute;
	inset: 0;
	width: 100%;
	height: 100%;
	z-index: 0;
	pointer-events: none;
	display: block;
}

/* Content（前面・背景透過で後ろのキラキラが通る） */
.mv.mv--abstract .mv__inner {
	position: relative;
	z-index: 2;
	max-width: 55rem;
	margin-left: clamp(24px, 6vw, 80px);
	margin-right: clamp(24px, 6vw, 80px);
	background: transparent;
	padding: clamp(18px, 3.5vw, 44px);
	border-radius: 24px;
	// background: rgba(0, 0, 0, 0.08);
}

.mv.mv--abstract .mv__catch {
	margin: 0 0 2rem;
	font-weight: 500;
	line-height: 1.35;
	letter-spacing: 0.04em;
	font-size: clamp(28px, 4vw, 44px);
	text-shadow: 0 2px 14px rgba(0, 0, 0, 0.28);
}

// キャッチコピー内のひらがなだけ少し小さく
.mv.mv--abstract .mv__catch-hiragana {
	font-size: 0.9em;
}

// MV 内のローテーションテキスト
.mv__rotate {
	position: relative;
	display: inline-grid;
	height: 1.2em;
	overflow: hidden;
	vertical-align: baseline;
	align-items: end;
	justify-items: center;
	font-weight: bold;

	span {
		grid-area: 1 / 1;
		opacity: 0;
		transform: translateY(10px);
		transition:
			opacity 0.8s ease,
			transform 0.8s ease;
		white-space: nowrap;
	}

	span.active {
		opacity: 1;
		transform: translateY(0);
	}
}

@media (prefers-reduced-motion: reduce) {
	.mv__rotate span {
		transition: none;
	}
}

/* SPでは「、」改行を無効化（1行表示） */
@media (max-width: 768px) {
	.mv.mv--abstract .mv__catch br {
		display: none;
	}
}

.mv.mv--abstract .mv__sub {
	margin: 0;
	font-weight: 500;
	line-height: 1.7;
	letter-spacing: 0.03em;
	font-size: clamp(15px, 2vw, 18px);
	text-shadow: 0 2px 10px rgba(0, 0, 0, 0.22);
	opacity: 0.95;
}

/* Sparkles（さらにはっきり強め） */
.mv.mv--abstract .mv__sparkle {
	position: absolute;
	z-index: 1;
	pointer-events: none;
	border-radius: 999px;
	width: 40px;
	height: 40px;
	background: radial-gradient(
		circle,
		rgba(255, 255, 255, 0.98),
		rgba(255, 255, 255, 0.5) 50%,
		rgba(255, 255, 255, 0) 75%
	);
	filter: blur(1px);
	opacity: 0.6;
	mix-blend-mode: screen;
	will-change: transform, opacity;
	animation: sparkleFloat 14s ease-in-out infinite alternate;
}

.mv.mv--abstract .mv__sparkle--1 {
	left: 10%;
	top: 22%;
	animation-duration: 13s;
	animation-delay: -6s;
}
.mv.mv--abstract .mv__sparkle--2 {
	left: 22%;
	top: 38%;
	animation-duration: 15s;
	animation-delay: -16s;
}
.mv.mv--abstract .mv__sparkle--3 {
	left: 34%;
	top: 18%;
	animation-duration: 14s;
	animation-delay: -10s;
}
.mv.mv--abstract .mv__sparkle--4 {
	left: 48%;
	top: 32%;
	animation-duration: 16s;
	animation-delay: -22s;
}
.mv.mv--abstract .mv__sparkle--5 {
	left: 18%;
	top: 70%;
	animation-duration: 14s;
	animation-delay: -12s;
}
.mv.mv--abstract .mv__sparkle--6 {
	left: 56%;
	top: 78%;
	animation-duration: 18s;
	animation-delay: -26s;
}

.mv.mv--abstract .mv__sparkle--2,
.mv.mv--abstract .mv__sparkle--4 {
	width: 46px;
	height: 46px;
	opacity: 0.55;
}

.mv.mv--abstract .mv__sparkle--5 {
	width: 34px;
	height: 34px;
}

@media (max-width: 768px) {
	.mv.mv--abstract {
		min-height: 90vh;
	}
	.mv.mv--abstract .mv__sparkle--5,
	.mv.mv--abstract .mv__sparkle--6 {
		display: none;
	}
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	.mv.mv--abstract::before,
	.mv.mv--abstract .mv__sparkle {
		animation: none !important;
	}
	.mv.mv--abstract .mv__particles {
		display: none !important; /* 粒も止める */
	}
}

h3.wp-block-heading {
	border: unset;
}

// =====================================================
// リード文セクション: MVと同じ横グラデで始め、下へ徐々に指定オレンジに
// =====================================================
.front__lead {
	// 下層: 左をやや明るめにした横グラデ（MVのradialで明るい左に合わせる）
	// 上層: 透明を長めに取り、中間ストップを細かくして境目をぼかす
	background:
		linear-gradient(
			180deg,
			transparent 0%,
			transparent 42%,
			rgba(255, 146, 69, 0.08) 55%,
			rgba(255, 146, 69, 0.22) 68%,
			rgba(255, 146, 69, 0.42) 80%,
			rgba(255, 146, 69, 0.7) 90%,
			u.$color-background-main 100%
		),
		// linear-gradient(90deg, #d97a38 0%, #e08a45 22%, u.$color-background-main 45%, #f5b070 72%, #fff0e0 100%);
		linear-gradient(90deg, #b85a20 0%, #d97a38 18%, u.$color-background-main 42%, #f5b070 60%, #fff0e0 100%);
}

// =====================================================
// 活動内容セクション
// =====================================================

.front__activities {
	a:where(:not(.wp-element-button)) {
		color: #0b3659;
	}
}
